<section class="calendar-wrapper">
    <div class="calendar-content">
        <h2 class="calendar-title" *ngIf="heading">{{ heading }}</h2>

        <div class="picker-container">
            <label for="date-input">Please choose a date:</label>
            <div class="date-input-wrap">
                <input 
                    id="date-input"
                    type="date" 
                    [formControl]="datePickerControl" 
                    class="custom-date-picker"
                    (click)="toggleCalendar()"
                    readonly
                />
                <button type="button" class="calendar-toggle" (click)="toggleCalendar()" aria-label="Toggle calendar">
                    <!-- Bold black arrow SVG for clearer toggle affordance -->
                    <span class="calendar-toggle-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" focusable="false">
                            <path d="M5 12h14M12 5l7 7-7 7" stroke="#000" stroke-width="2.8" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                        </svg>
                    </span>
                </button>
            </div>

            <wdpr-calendar *ngIf="showCalendar"
                variant="single"
                mode="single"
                [value]="selectedDate"
                min="01/01/2026"
                max="12/31/2026"
                maxRange="0"
                size="medium"
                [enableSixWeeks]="false"
                [displayBorder]="true"
                [blockedDates]="blockedDates"
                [showDisabledSlash]="false"
                (dateSelected)="onDateSelected($event)"
                (rangeDatesSelected)="onRangeDatesSelected($event)"
            ></wdpr-calendar>
        </div>

        <div class="result-display" *ngIf="selectedDate; else noSelection">
            <p>Selected date is: <span class="highlight">{{ selectedDate | date:'fullDate' }}</span></p>
        </div>

        <ng-template #noSelection>
            <p class="placeholder-text">No date selected yet.</p>
        </ng-template>
    </div>
</section>